<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Anchor ⚓ is a framework for Solana’s Sealevel runtime providing several convenient developer tools."><title>anchor_lang - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="anchor_lang" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../anchor_lang/index.html">anchor_<wbr>lang</a><span class="version">0.31.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li><li><a href="#attributes" title="Attribute Macros">Attribute Macros</a></li><li><a href="#derives" title="Derive Macros">Derive Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>anchor_lang</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/anchor_lang/lib.rs.html#1-754">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Anchor ⚓ is a framework for Solana’s Sealevel runtime providing several
convenient developer tools.</p>
<ul>
<li>Rust eDSL for writing safe, secure, and high level Solana programs</li>
<li><a href="https://en.wikipedia.org/wiki/Interface_description_language">IDL</a> specification</li>
<li>TypeScript package for generating clients from IDL</li>
<li>CLI and workspace management for developing complete applications</li>
</ul>
<p>If you’re familiar with developing in Ethereum’s
<a href="https://docs.soliditylang.org/en/v0.7.4/">Solidity</a>,
<a href="https://www.trufflesuite.com/">Truffle</a>,
<a href="https://github.com/ethereum/web3.js">web3.js</a> or Parity’s
<a href="https://github.com/paritytech/ink">Ink!</a>, then the experience will be
familiar. Although the syntax and semantics are targeted at Solana, the high
level workflow of writing RPC request handlers, emitting an IDL, and
generating clients from IDL is the same.</p>
<p>For detailed tutorials and examples on how to use Anchor, see the guided
<a href="https://anchor-lang.com">tutorials</a> or examples in the GitHub
<a href="https://github.com/coral-xyz/anchor">repository</a>.</p>
<p>Presented here are the Rust primitives for building on Solana.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.solana_program"><code>pub use <a class="mod" href="../solana_program/index.html" title="mod solana_program">solana_program</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="accounts/index.html" title="mod anchor_lang::accounts">accounts</a></div><div class="desc docblock-short">Account types that can be used in the account validation struct.</div></li><li><div class="item-name"><a class="mod" href="context/index.html" title="mod anchor_lang::context">context</a></div><div class="desc docblock-short">Data structures that are used to provide non-argument inputs to program endpoints</div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod anchor_lang::error">error</a></div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod anchor_lang::prelude">prelude</a></div><div class="desc docblock-short">The prelude contains all commonly used components of the crate.
All programs should include it via <code>anchor_lang::prelude::*;</code>.</div></li><li><div class="item-name"><a class="mod" href="system_program/index.html" title="mod anchor_lang::system_program">system_<wbr>program</a></div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.declare_id.html" title="macro anchor_lang::declare_id">declare_<wbr>id</a></div><div class="desc docblock-short">Defines the program’s ID. This should be used at the root of all Anchor
based programs.</div></li><li><div class="item-name"><a class="macro" href="macro.declare_program.html" title="macro anchor_lang::declare_program">declare_<wbr>program</a></div><div class="desc docblock-short">Declare an external program based on its IDL.</div></li><li><div class="item-name"><a class="macro" href="macro.emit.html" title="macro anchor_lang::emit">emit</a></div><div class="desc docblock-short">Logs an event that can be subscribed to by clients.
Uses the <a href="https://docs.rs/solana-program/latest/solana_program/log/fn.sol_log_data.html"><code>sol_log_data</code></a>
syscall which results in the following log:</div></li><li><div class="item-name"><a class="macro" href="macro.err.html" title="macro anchor_lang::err">err</a></div><div class="desc docblock-short">Returns with the given error.
Use this with a custom error type.</div></li><li><div class="item-name"><a class="macro" href="macro.error.html" title="macro anchor_lang::error">error</a></div><div class="desc docblock-short">Generates an <a href="../../anchor_lang/error/enum.Error.html"><code>Error::AnchorError</code></a> that includes file and line information.</div></li><li><div class="item-name"><a class="macro" href="macro.pubkey.html" title="macro anchor_lang::pubkey">pubkey</a></div><div class="desc docblock-short">Convenience macro to define a static public key.</div></li><li><div class="item-name"><a class="macro" href="macro.require.html" title="macro anchor_lang::require">require</a></div><div class="desc docblock-short">Ensures a condition is true, otherwise returns with the given error.
Use this with or without a custom error type.</div></li><li><div class="item-name"><a class="macro" href="macro.require_eq.html" title="macro anchor_lang::require_eq">require_<wbr>eq</a></div><div class="desc docblock-short">Ensures two NON-PUBKEY values are equal.</div></li><li><div class="item-name"><a class="macro" href="macro.require_gt.html" title="macro anchor_lang::require_gt">require_<wbr>gt</a></div><div class="desc docblock-short">Ensures the first NON-PUBKEY value is greater than the second
NON-PUBKEY value.</div></li><li><div class="item-name"><a class="macro" href="macro.require_gte.html" title="macro anchor_lang::require_gte">require_<wbr>gte</a></div><div class="desc docblock-short">Ensures the first NON-PUBKEY value is greater than or equal
to the second NON-PUBKEY value.</div></li><li><div class="item-name"><a class="macro" href="macro.require_keys_eq.html" title="macro anchor_lang::require_keys_eq">require_<wbr>keys_<wbr>eq</a></div><div class="desc docblock-short">Ensures two pubkeys values are equal.</div></li><li><div class="item-name"><a class="macro" href="macro.require_keys_neq.html" title="macro anchor_lang::require_keys_neq">require_<wbr>keys_<wbr>neq</a></div><div class="desc docblock-short">Ensures two pubkeys are not equal.</div></li><li><div class="item-name"><a class="macro" href="macro.require_neq.html" title="macro anchor_lang::require_neq">require_<wbr>neq</a></div><div class="desc docblock-short">Ensures two NON-PUBKEY values are not equal.</div></li><li><div class="item-name"><a class="macro" href="macro.source.html" title="macro anchor_lang::source">source</a></div><div class="desc docblock-short">Creates a <a href="error/struct.Source.html" title="struct anchor_lang::error::Source"><code>Source</code></a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ProgramData.html" title="struct anchor_lang::ProgramData">Program<wbr>Data</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AccountDeserialize.html" title="trait anchor_lang::AccountDeserialize">Account<wbr>Deserialize</a></div><div class="desc docblock-short">A data structure that can be deserialized and stored into account storage,
i.e. an
<a href="../solana_program/account_info/struct.AccountInfo.html#structfield.data"><code>AccountInfo</code></a>’s
mutable data slice.</div></li><li><div class="item-name"><a class="trait" href="trait.AccountSerialize.html" title="trait anchor_lang::AccountSerialize">Account<wbr>Serialize</a></div><div class="desc docblock-short">A data structure that can be serialized and stored into account storage,
i.e. an
<a href="../solana_program/account_info/struct.AccountInfo.html#structfield.data"><code>AccountInfo</code></a>’s
mutable data slice.</div></li><li><div class="item-name"><a class="trait" href="trait.Accounts.html" title="trait anchor_lang::Accounts">Accounts</a></div><div class="desc docblock-short">A data structure of validated accounts that can be deserialized from the
input to a Solana program. Implementations of this trait should perform any
and all requisite constraint checks on accounts to ensure the accounts
maintain any invariants required for the program to run securely. In most
cases, it’s recommended to use the <a href="./derive.Accounts.html"><code>Accounts</code></a>
derive macro to implement this trait.</div></li><li><div class="item-name"><a class="trait" href="trait.AccountsClose.html" title="trait anchor_lang::AccountsClose">Accounts<wbr>Close</a></div><div class="desc docblock-short">The close procedure to initiate garabage collection of an account, allowing
one to retrieve the rent exemption.</div></li><li><div class="item-name"><a class="trait" href="trait.AccountsExit.html" title="trait anchor_lang::AccountsExit">Accounts<wbr>Exit</a></div><div class="desc docblock-short">The exit procedure for an account. Any cleanup or persistence to storage
should be done here.</div></li><li><div class="item-name"><a class="trait" href="trait.AnchorDeserialize.html" title="trait anchor_lang::AnchorDeserialize">Anchor<wbr>Deserialize</a></div><div class="desc docblock-short">Borsh is the default serialization format for instructions and accounts.
A data-structure that can be de-serialized from binary format by NBOR.</div></li><li><div class="item-name"><a class="trait" href="trait.AnchorSerialize.html" title="trait anchor_lang::AnchorSerialize">Anchor<wbr>Serialize</a></div><div class="desc docblock-short">A data-structure that can be serialized into binary format by NBOR.</div></li><li><div class="item-name"><a class="trait" href="trait.Bump.html" title="trait anchor_lang::Bump">Bump</a></div><div class="desc docblock-short">Bump seed for program derived addresses.</div></li><li><div class="item-name"><a class="trait" href="trait.Bumps.html" title="trait anchor_lang::Bumps">Bumps</a></div><div class="desc docblock-short">Associated bump seeds for <code>Accounts</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.CheckId.html" title="trait anchor_lang::CheckId">CheckId</a></div><div class="desc docblock-short">Defines a trait for checking the id of a program.</div></li><li><div class="item-name"><a class="trait" href="trait.CheckOwner.html" title="trait anchor_lang::CheckOwner">Check<wbr>Owner</a></div><div class="desc docblock-short">Defines a trait for checking the owner of a program.</div></li><li><div class="item-name"><a class="trait" href="trait.Discriminator.html" title="trait anchor_lang::Discriminator">Discriminator</a></div><div class="desc docblock-short">Unique identifier for a type.</div></li><li><div class="item-name"><a class="trait" href="trait.Event.html" title="trait anchor_lang::Event">Event</a></div><div class="desc docblock-short">An event that can be emitted via a Solana log. See <a href="macro.emit.html" title="macro anchor_lang::emit"><code>emit!</code></a> for an example.</div></li><li><div class="item-name"><a class="trait" href="trait.Id.html" title="trait anchor_lang::Id">Id</a></div><div class="desc docblock-short">Defines the id of a program.</div></li><li><div class="item-name"><a class="trait" href="trait.Ids.html" title="trait anchor_lang::Ids">Ids</a></div><div class="desc docblock-short">Defines the possible ids of a program.</div></li><li><div class="item-name"><a class="trait" href="trait.InstructionData.html" title="trait anchor_lang::InstructionData">Instruction<wbr>Data</a></div><div class="desc docblock-short">Calculates the data for an instruction invocation, where the data is
<code>Discriminator + BorshSerialize(args)</code>. <code>args</code> is a borsh serialized
struct of named fields for each argument given to an instruction.</div></li><li><div class="item-name"><a class="trait" href="trait.Key.html" title="trait anchor_lang::Key">Key</a></div><div class="desc docblock-short">Defines the Pubkey of an account.</div></li><li><div class="item-name"><a class="trait" href="trait.Lamports.html" title="trait anchor_lang::Lamports">Lamports</a></div><div class="desc docblock-short">Lamports related utility methods for accounts.</div></li><li><div class="item-name"><a class="trait" href="trait.Owner.html" title="trait anchor_lang::Owner">Owner</a></div><div class="desc docblock-short">Defines an address expected to own an account.</div></li><li><div class="item-name"><a class="trait" href="trait.Owners.html" title="trait anchor_lang::Owners">Owners</a></div><div class="desc docblock-short">Defines a list of addresses expected to own an account.</div></li><li><div class="item-name"><a class="trait" href="trait.Space.html" title="trait anchor_lang::Space">Space</a></div><div class="desc docblock-short">Defines the space of an account for initialization.</div></li><li><div class="item-name"><a class="trait" href="trait.ToAccountInfo.html" title="trait anchor_lang::ToAccountInfo">ToAccount<wbr>Info</a></div><div class="desc docblock-short">Transformation to an <code>AccountInfo</code> struct.</div></li><li><div class="item-name"><a class="trait" href="trait.ToAccountInfos.html" title="trait anchor_lang::ToAccountInfos">ToAccount<wbr>Infos</a></div><div class="desc docblock-short">Transformation to
<a href="../solana_program/account_info/struct.AccountInfo.html"><code>AccountInfo</code></a>
structs.</div></li><li><div class="item-name"><a class="trait" href="trait.ToAccountMetas.html" title="trait anchor_lang::ToAccountMetas">ToAccount<wbr>Metas</a></div><div class="desc docblock-short">Transformation to
<a href="../solana_program/instruction/struct.AccountMeta.html"><code>AccountMeta</code></a>
structs.</div></li><li><div class="item-name"><a class="trait" href="trait.ZeroCopy.html" title="trait anchor_lang::ZeroCopy">Zero<wbr>Copy</a></div><div class="desc docblock-short">An account data structure capable of zero copy deserialization.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Result.html" title="type anchor_lang::Result">Result</a></div></li></ul><h2 id="attributes" class="section-header">Attribute Macros<a href="#attributes" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="attr" href="attr.access_control.html" title="attr anchor_lang::access_control">access_<wbr>control</a></div><div class="desc docblock-short">Executes the given access control method before running the decorated
instruction handler. Any method in scope of the attribute can be invoked
with any arguments from the associated instruction handler.</div></li><li><div class="item-name"><a class="attr" href="attr.account.html" title="attr anchor_lang::account">account</a></div><div class="desc docblock-short">An attribute for a data structure representing a Solana account.</div></li><li><div class="item-name"><a class="attr" href="attr.constant.html" title="attr anchor_lang::constant">constant</a></div><div class="desc docblock-short">A marker attribute used to mark const values that should be included in the
generated IDL but functionally does nothing.</div></li><li><div class="item-name"><a class="attr" href="attr.error_code.html" title="attr anchor_lang::error_code">error_<wbr>code</a></div><div class="desc docblock-short">Generates <code>Error</code> and <code>type Result&lt;T&gt; = Result&lt;T, Error&gt;</code> types to be
used as return types from Anchor instruction handlers. Importantly, the
attribute implements
<a href="https://doc.rust-lang.org/std/convert/trait.From.html"><code>From</code></a> on the
<code>ErrorCode</code> to support converting from the user defined error enum <em>into</em>
the generated <code>Error</code>.</div></li><li><div class="item-name"><a class="attr" href="attr.event.html" title="attr anchor_lang::event">event</a></div><div class="desc docblock-short">The event attribute allows a struct to be used with
<a href="./macro.emit.html">emit!</a> so that programs can log significant events in
their programs that clients can subscribe to. Currently, this macro is for
structs only.</div></li><li><div class="item-name"><a class="attr" href="attr.instruction.html" title="attr anchor_lang::instruction">instruction</a></div><div class="desc docblock-short">This attribute is used to override the Anchor defaults of program instructions.</div></li><li><div class="item-name"><a class="attr" href="attr.program.html" title="attr anchor_lang::program">program</a></div><div class="desc docblock-short">The <code>#[program]</code> attribute defines the module containing all instruction
handlers defining all entries into a Solana program.</div></li><li><div class="item-name"><a class="attr" href="attr.zero_copy.html" title="attr anchor_lang::zero_copy">zero_<wbr>copy</a></div><div class="desc docblock-short">A data structure that can be used as an internal field for a zero copy
deserialized account, i.e., a struct marked with <code>#[account(zero_copy)]</code>.</div></li></ul><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.Accounts.html" title="derive anchor_lang::Accounts">Accounts</a></div><div class="desc docblock-short">Implements an <a href="./trait.Accounts.html"><code>Accounts</code></a> deserializer on the given
struct. Can provide further functionality through the use of attributes.</div></li><li><div class="item-name"><a class="derive" href="derive.AnchorDeserialize.html" title="derive anchor_lang::AnchorDeserialize">Anchor<wbr>Deserialize</a></div></li><li><div class="item-name"><a class="derive" href="derive.AnchorSerialize.html" title="derive anchor_lang::AnchorSerialize">Anchor<wbr>Serialize</a></div></li><li><div class="item-name"><a class="derive" href="derive.InitSpace.html" title="derive anchor_lang::InitSpace">Init<wbr>Space</a></div><div class="desc docblock-short">Implements a <a href="./trait.Space.html"><code>Space</code></a> trait on the given
struct or enum.</div></li></ul></section></div></main></body></html>