<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `MultiScalarMultiplication` trait in crate `solana_curve25519`."><title>MultiScalarMultiplication in solana_curve25519::curve_syscall_traits - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="solana_curve25519" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../solana_curve25519/index.html">solana_<wbr>curve25519</a><span class="version">2.2.18</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Multi<wbr>Scalar<wbr>Multiplication</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Point" title="Point">Point</a></li><li><a href="#associatedtype.Scalar" title="Scalar">Scalar</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.multiscalar_multiply" title="multiscalar_multiply">multiscalar_multiply</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In solana_<wbr>curve25519::<wbr>curve_<wbr>syscall_<wbr>traits</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">solana_curve25519</a>::<wbr><a href="index.html">curve_syscall_traits</a></span><h1>Trait <span class="trait">MultiScalarMultiplication</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/solana_curve25519/curve_syscall_traits.rs.html#43-65">Source</a> </span></div><pre class="rust item-decl"><code>pub trait MultiScalarMultiplication {
    type <a href="#associatedtype.Scalar" class="associatedtype">Scalar</a>;
    type <a href="#associatedtype.Point" class="associatedtype">Point</a>;

    // Required method
    fn <a href="#tymethod.multiscalar_multiply" class="fn">multiscalar_multiply</a>(
        scalars: &amp;[Self::<a class="associatedtype" href="trait.MultiScalarMultiplication.html#associatedtype.Scalar" title="type solana_curve25519::curve_syscall_traits::MultiScalarMultiplication::Scalar">Scalar</a>],
        points: &amp;[Self::<a class="associatedtype" href="trait.MultiScalarMultiplication.html#associatedtype.Point" title="type solana_curve25519::curve_syscall_traits::MultiScalarMultiplication::Point">Point</a>],
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.MultiScalarMultiplication.html#associatedtype.Point" title="type solana_curve25519::curve_syscall_traits::MultiScalarMultiplication::Point">Point</a>&gt;;
}</code></pre><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.Scalar" class="method"><a class="src rightside" href="../../src/solana_curve25519/curve_syscall_traits.rs.html#44">Source</a><h4 class="code-header">type <a href="#associatedtype.Scalar" class="associatedtype">Scalar</a></h4></section><section id="associatedtype.Point" class="method"><a class="src rightside" href="../../src/solana_curve25519/curve_syscall_traits.rs.html#45">Source</a><h4 class="code-header">type <a href="#associatedtype.Point" class="associatedtype">Point</a></h4></section></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.multiscalar_multiply" class="method"><a class="src rightside" href="../../src/solana_curve25519/curve_syscall_traits.rs.html#61-64">Source</a><h4 class="code-header">fn <a href="#tymethod.multiscalar_multiply" class="fn">multiscalar_multiply</a>(
    scalars: &amp;[Self::<a class="associatedtype" href="trait.MultiScalarMultiplication.html#associatedtype.Scalar" title="type solana_curve25519::curve_syscall_traits::MultiScalarMultiplication::Scalar">Scalar</a>],
    points: &amp;[Self::<a class="associatedtype" href="trait.MultiScalarMultiplication.html#associatedtype.Point" title="type solana_curve25519::curve_syscall_traits::MultiScalarMultiplication::Point">Point</a>],
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.MultiScalarMultiplication.html#associatedtype.Point" title="type solana_curve25519::curve_syscall_traits::MultiScalarMultiplication::Point">Point</a>&gt;</h4></section></summary><div class="docblock"><p>Given a vector of scalsrs S_1, …, S_N, and curve points P_1, …, P_N, computes the
“inner product”: S_1<em>P_1 + … + S_N</em>P_N.</p>
<p>NOTE: This operation can be represented by combining <code>add</code> and <code>multiply</code> functions in
<code>GroupOperations</code>, but computing it in a single batch is significantly cheaper. Given how
commonly used the multiscalar multiplication (MSM) is, it seems to make sense to have a
designated trait for MSM support.</p>
<p>NOTE: The inputs to the function is a non-fixed size vector and hence, there are some
complications in computing the cost for the syscall. The computational costs should only
depend on the length of the vectors (and the curve), so it would be ideal to support
variable length inputs and compute the syscall cost as is done in eip-197:
<a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-197.md#gas-costs">https://github.com/ethereum/EIPs/blob/master/EIPS/eip-197.md#gas-costs</a>. If not, then we can
consider bounding the length of the input and assigning worst-case cost.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.85.0/reference/items/traits.html#object-safety">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-MultiScalarMultiplication-for-PodEdwardsPoint" class="impl"><a class="src rightside" href="../../src/solana_curve25519/edwards.rs.html#116-134">Source</a><a href="#impl-MultiScalarMultiplication-for-PodEdwardsPoint" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.MultiScalarMultiplication.html" title="trait solana_curve25519::curve_syscall_traits::MultiScalarMultiplication">MultiScalarMultiplication</a> for <a class="struct" href="../edwards/struct.PodEdwardsPoint.html" title="struct solana_curve25519::edwards::PodEdwardsPoint">PodEdwardsPoint</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Scalar-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/solana_curve25519/edwards.rs.html#117">Source</a><a href="#associatedtype.Scalar-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Scalar" class="associatedtype">Scalar</a> = <a class="struct" href="../scalar/struct.PodScalar.html" title="struct solana_curve25519::scalar::PodScalar">PodScalar</a></h4></section><section id="associatedtype.Point-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/solana_curve25519/edwards.rs.html#118">Source</a><a href="#associatedtype.Point-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Point" class="associatedtype">Point</a> = <a class="struct" href="../edwards/struct.PodEdwardsPoint.html" title="struct solana_curve25519::edwards::PodEdwardsPoint">PodEdwardsPoint</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-MultiScalarMultiplication-for-PodRistrettoPoint" class="impl"><a class="src rightside" href="../../src/solana_curve25519/ristretto.rs.html#116-134">Source</a><a href="#impl-MultiScalarMultiplication-for-PodRistrettoPoint" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.MultiScalarMultiplication.html" title="trait solana_curve25519::curve_syscall_traits::MultiScalarMultiplication">MultiScalarMultiplication</a> for <a class="struct" href="../ristretto/struct.PodRistrettoPoint.html" title="struct solana_curve25519::ristretto::PodRistrettoPoint">PodRistrettoPoint</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Scalar-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/solana_curve25519/ristretto.rs.html#117">Source</a><a href="#associatedtype.Scalar-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Scalar" class="associatedtype">Scalar</a> = <a class="struct" href="../scalar/struct.PodScalar.html" title="struct solana_curve25519::scalar::PodScalar">PodScalar</a></h4></section><section id="associatedtype.Point-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/solana_curve25519/ristretto.rs.html#118">Source</a><a href="#associatedtype.Point-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Point" class="associatedtype">Point</a> = <a class="struct" href="../ristretto/struct.PodRistrettoPoint.html" title="struct solana_curve25519::ristretto::PodRistrettoPoint">PodRistrettoPoint</a></h4></section></div></details></div><script src="../../trait.impl/solana_curve25519/curve_syscall_traits/trait.MultiScalarMultiplication.js" async></script></section></div></main></body></html>