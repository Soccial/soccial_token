<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait for mutable base state with extension"><title>BaseStateWithExtensionsMut in spl_token_2022::extension - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="spl_token_2022" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../spl_token_2022/index.html">spl_<wbr>token_<wbr>2022</a><span class="version">6.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Base<wbr>State<wbr>With<wbr>Extensions<wbr>Mut</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.get_account_type_mut" title="get_account_type_mut">get_account_type_mut</a></li><li><a href="#tymethod.get_tlv_data_mut" title="get_tlv_data_mut">get_tlv_data_mut</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.alloc" title="alloc">alloc</a></li><li><a href="#method.check_account_type_matches_extension_type" title="check_account_type_matches_extension_type">check_account_type_matches_extension_type</a></li><li><a href="#method.get_extension_bytes_mut" title="get_extension_bytes_mut">get_extension_bytes_mut</a></li><li><a href="#method.get_extension_mut" title="get_extension_mut">get_extension_mut</a></li><li><a href="#method.init_account_extension_from_type" title="init_account_extension_from_type">init_account_extension_from_type</a></li><li><a href="#method.init_account_type" title="init_account_type">init_account_type</a></li><li><a href="#method.init_extension" title="init_extension">init_extension</a></li><li><a href="#method.init_variable_len_extension" title="init_variable_len_extension">init_variable_len_extension</a></li><li><a href="#method.pack_variable_len_extension" title="pack_variable_len_extension">pack_variable_len_extension</a></li><li><a href="#method.realloc" title="realloc">realloc</a></li><li><a href="#method.realloc_variable_len_extension" title="realloc_variable_len_extension">realloc_variable_len_extension</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In spl_<wbr>token_<wbr>2022::<wbr>extension</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">spl_token_2022</a>::<wbr><a href="index.html">extension</a></span><h1>Trait <span class="trait">BaseStateWithExtensionsMut</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/spl_token_2022/extension/mod.rs.html#565-807">Source</a> </span></div><pre class="rust item-decl"><code>pub trait BaseStateWithExtensionsMut&lt;S: <a class="trait" href="trait.BaseState.html" title="trait spl_token_2022::extension::BaseState">BaseState</a>&gt;: <a class="trait" href="trait.BaseStateWithExtensions.html" title="trait spl_token_2022::extension::BaseStateWithExtensions">BaseStateWithExtensions</a>&lt;S&gt; {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 13 methods</span></summary>    // Required methods
    fn <a href="#tymethod.get_tlv_data_mut" class="fn">get_tlv_data_mut</a>(&amp;mut self) -&gt; &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>] <a href="#" class="tooltip" data-notable-ty="&amp;mut [u8]">ⓘ</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_account_type_mut" class="fn">get_account_type_mut</a>(&amp;mut self) -&gt; &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>] <a href="#" class="tooltip" data-notable-ty="&amp;mut [u8]">ⓘ</a>;

    // Provided methods
    fn <a href="#method.get_extension_bytes_mut" class="fn">get_extension_bytes_mut</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a>&gt;(
        &amp;mut self,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>], <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_extension_mut" class="fn">get_extension_mut</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../bytemuck/pod/trait.Pod.html" title="trait bytemuck::pod::Pod">Pod</a>&gt;(
        &amp;mut self,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;mut V</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.pack_variable_len_extension" class="fn">pack_variable_len_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
        &amp;mut self,
        extension: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;V</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.init_extension" class="fn">init_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../bytemuck/pod/trait.Pod.html" title="trait bytemuck::pod::Pod">Pod</a> + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a>&gt;(
        &amp;mut self,
        overwrite: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.bool.html">bool</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;mut V</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.realloc_variable_len_extension" class="fn">realloc_variable_len_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
        &amp;mut self,
        new_extension: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;V</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.realloc" class="fn">realloc</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
        &amp;mut self,
        length: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>], <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.init_variable_len_extension" class="fn">init_variable_len_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
        &amp;mut self,
        extension: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;V</a>,
        overwrite: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.bool.html">bool</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.alloc" class="fn">alloc</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a>&gt;(
        &amp;mut self,
        length: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a>,
        overwrite: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.bool.html">bool</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>], <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.init_account_extension_from_type" class="fn">init_account_extension_from_type</a>(
        &amp;mut self,
        extension_type: <a class="enum" href="enum.ExtensionType.html" title="enum spl_token_2022::extension::ExtensionType">ExtensionType</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.init_account_type" class="fn">init_account_type</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.check_account_type_matches_extension_type" class="fn">check_account_type_matches_extension_type</a>(
        &amp;self,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt; { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait for mutable base state with extension</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.get_tlv_data_mut" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#567">Source</a><h4 class="code-header">fn <a href="#tymethod.get_tlv_data_mut" class="fn">get_tlv_data_mut</a>(&amp;mut self) -&gt; &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>] <a href="#" class="tooltip" data-notable-ty="&amp;mut [u8]">ⓘ</a></h4></section></summary><div class="docblock"><p>Get the underlying TLV data as mutable</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_account_type_mut" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#570">Source</a><h4 class="code-header">fn <a href="#tymethod.get_account_type_mut" class="fn">get_account_type_mut</a>(&amp;mut self) -&gt; &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>] <a href="#" class="tooltip" data-notable-ty="&amp;mut [u8]">ⓘ</a></h4></section></summary><div class="docblock"><p>Get the underlying account type as mutable</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.get_extension_bytes_mut" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#573-575">Source</a><h4 class="code-header">fn <a href="#method.get_extension_bytes_mut" class="fn">get_extension_bytes_mut</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a>&gt;(
    &amp;mut self,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>], <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Unpack a portion of the TLV data as the base mutable bytes</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_extension_mut" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#579-581">Source</a><h4 class="code-header">fn <a href="#method.get_extension_mut" class="fn">get_extension_mut</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../bytemuck/pod/trait.Pod.html" title="trait bytemuck::pod::Pod">Pod</a>&gt;(
    &amp;mut self,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;mut V</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Unpack a portion of the TLV data as the desired type that allows
modifying the type</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pack_variable_len_extension" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#585-593">Source</a><h4 class="code-header">fn <a href="#method.pack_variable_len_extension" class="fn">pack_variable_len_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
    &amp;mut self,
    extension: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;V</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Packs a variable-length extension into its appropriate data segment.
Fails if space hasn’t already been allocated for the given extension</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.init_extension" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#600-609">Source</a><h4 class="code-header">fn <a href="#method.init_extension" class="fn">init_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../bytemuck/pod/trait.Pod.html" title="trait bytemuck::pod::Pod">Pod</a> + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a>&gt;(
    &amp;mut self,
    overwrite: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;mut V</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Packs the default extension data into an open slot if not already found
in the data buffer. If extension is already found in the buffer, it
overwrites the existing extension with the default state if
<code>overwrite</code> is set. If extension found, but <code>overwrite</code> is not set,
it returns error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.realloc_variable_len_extension" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#616-622">Source</a><h4 class="code-header">fn <a href="#method.realloc_variable_len_extension" class="fn">realloc_variable_len_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
    &amp;mut self,
    new_extension: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;V</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Reallocate and overwrite the TLV entry for the given variable-length
extension.</p>
<p>Returns an error if the extension is not present, or if there is not
enough space in the buffer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.realloc" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#633-678">Source</a><h4 class="code-header">fn <a href="#method.realloc" class="fn">realloc</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
    &amp;mut self,
    length: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>], <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Reallocate the TLV entry for the given extension to the given number of
bytes.</p>
<p>If the new length is smaller, it will compact the rest of the buffer and
zero out the difference at the end. If it’s larger, it will move the
rest of the buffer data and zero out the new data.</p>
<p>Returns an error if the extension is not present, or if this is not
enough space in the buffer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.init_variable_len_extension" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#685-692">Source</a><h4 class="code-header">fn <a href="#method.init_variable_len_extension" class="fn">init_variable_len_extension</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a> + <a class="trait" href="../../spl_type_length_value/variable_len_pack/trait.VariableLenPack.html" title="trait spl_type_length_value::variable_len_pack::VariableLenPack">VariableLenPack</a>&gt;(
    &amp;mut self,
    extension: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.reference.html">&amp;V</a>,
    overwrite: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Allocate the given number of bytes for the given variable-length
extension and write its contents into the TLV buffer.</p>
<p>This can only be used for variable-sized types, such as <code>String</code> or
<code>Vec</code>. <code>Pod</code> types must use <code>init_extension</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.alloc" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#695-738">Source</a><h4 class="code-header">fn <a href="#method.alloc" class="fn">alloc</a>&lt;V: <a class="trait" href="trait.Extension.html" title="trait spl_token_2022::extension::Extension">Extension</a>&gt;(
    &amp;mut self,
    length: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a>,
    overwrite: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.u8.html">u8</a>], <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Allocate some space for the extension in the TLV data</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.init_account_extension_from_type" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#746-775">Source</a><h4 class="code-header">fn <a href="#method.init_account_extension_from_type" class="fn">init_account_extension_from_type</a>(
    &amp;mut self,
    extension_type: <a class="enum" href="enum.ExtensionType.html" title="enum spl_token_2022::extension::ExtensionType">ExtensionType</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>If <code>extension_type</code> is an Account-associated ExtensionType that requires
initialization on InitializeAccount, this method packs the default
relevant Extension of an ExtensionType into an open slot if not
already found in the data buffer, otherwise overwrites the
existing extension with the default state. For all other ExtensionTypes,
this is a no-op.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.init_account_type" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#781-794">Source</a><h4 class="code-header">fn <a href="#method.init_account_type" class="fn">init_account_type</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Write the account type into the buffer, done during the base
state initialization
Noops if there is no room for an extension in the account, needed for
pure base mints / accounts.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.check_account_type_matches_extension_type" class="method"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#798-806">Source</a><h4 class="code-header">fn <a href="#method.check_account_type_matches_extension_type" class="fn">check_account_type_matches_extension_type</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../solana_program_error/enum.ProgramError.html" title="enum solana_program_error::ProgramError">ProgramError</a>&gt;</h4></section></summary><div class="docblock"><p>Check that the account type on the account (if initialized) matches the
account type for any extensions initialized on the TLV data</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.85.0/reference/items/traits.html#object-safety">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-BaseStateWithExtensionsMut%3CS%3E-for-PodStateWithExtensionsMut%3C'a,+S%3E" class="impl"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#938-945">Source</a><a href="#impl-BaseStateWithExtensionsMut%3CS%3E-for-PodStateWithExtensionsMut%3C'a,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, S: <a class="trait" href="trait.BaseState.html" title="trait spl_token_2022::extension::BaseState">BaseState</a>&gt; <a class="trait" href="trait.BaseStateWithExtensionsMut.html" title="trait spl_token_2022::extension::BaseStateWithExtensionsMut">BaseStateWithExtensionsMut</a>&lt;S&gt; for <a class="struct" href="struct.PodStateWithExtensionsMut.html" title="struct spl_token_2022::extension::PodStateWithExtensionsMut">PodStateWithExtensionsMut</a>&lt;'a, S&gt;</h3></section><section id="impl-BaseStateWithExtensionsMut%3CS%3E-for-StateWithExtensionsMut%3C'a,+S%3E" class="impl"><a class="src rightside" href="../../src/spl_token_2022/extension/mod.rs.html#871-878">Source</a><a href="#impl-BaseStateWithExtensionsMut%3CS%3E-for-StateWithExtensionsMut%3C'a,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, S: <a class="trait" href="trait.BaseState.html" title="trait spl_token_2022::extension::BaseState">BaseState</a>&gt; <a class="trait" href="trait.BaseStateWithExtensionsMut.html" title="trait spl_token_2022::extension::BaseStateWithExtensionsMut">BaseStateWithExtensionsMut</a>&lt;S&gt; for <a class="struct" href="struct.StateWithExtensionsMut.html" title="struct spl_token_2022::extension::StateWithExtensionsMut">StateWithExtensionsMut</a>&lt;'a, S&gt;</h3></section></div><script src="../../trait.impl/spl_token_2022/extension/trait.BaseStateWithExtensionsMut.js" async></script><script type="text/json" id="notable-traits-data">{"&mut [u8]":"<h3>Notable traits for <code>&amp;mut [<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.85.0/std/primitive.u8.html\">u8</a>]</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.85.0/std/io/trait.Write.html\" title=\"trait std::io::Write\">Write</a> for &amp;mut [<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.85.0/std/primitive.u8.html\">u8</a>]</div>"}</script></section></div></main></body></html>